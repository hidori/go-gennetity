# Go: genprop

Generates getter/setter functions for private fields.

## INSTALL

### CLI

```bash
go install github.com/hidori/go-genprop/cmd/genprop@latest
```

### Docker

```bash
docker pull hidori/genprop:latest
```

## USAGE

```sh
usage: genprop [OPTION]... <FILE>

option(s):
  -initialism string
        names to which initialism should be applied (default "id,url,api")
  -validation-func string
        specify validation func name (default "validateFieldValue")
  -validation-tag string
        specify validation tag name (default "validate")
```

## EXAMPLE

### INPUT

example.go

```go
package example

import (
 "github.com/go-playground/validator/v10"
 "github.com/pkg/errors"
)

type Struct struct {
 value1 int `property:"get"`
 value2 int `property:"set"`
 value3 int `property:"get,set"`
 value4 int `property:"get,set" validate:"min=1,max=100"`
 value5 int `property:"get,set=private" validate:"min=1,max=100"`
}

var _validator = validator.New()

func validateFieldValue(v any, tag string) error {
 if err := _validator.Var(v, tag); err != nil {
  return errors.WithStack(err)
 }

 return nil
}

func NewStruct(v1 int, v2 int, v3 int, v4 int, v5 int) (*Struct, error) {
 v := &Struct{
  value1: v1,
  value2: v2,
  value3: v3,
 }

 err := v.SetValue4(v4)
 if err != nil {
  return nil, errors.WithStack(err)
 }

 err = v.setValue5(v5)
 if err != nil {
  return nil, errors.WithStack(err)
 }

 return v, nil
}
```

### RUN

```bash
genprop example.go > example.prop.go
```

or

```bash
docker run --rm -w $PWD -v $PWD:$PWD hidori/genprop:latest example.go > example.prop.go
```

### OUTPUT

example.prop.go

```go
// Code generated by github.com/hidori/go-genprop/cmd/genprop DO NOT EDIT.
package example

func (t *Struct) GetValue1() int {
 return t.value1
}
func (t *Struct) SetValue2(v int) {
 t.value2 = v
}
func (t *Struct) GetValue3() int {
 return t.value3
}
func (t *Struct) SetValue3(v int) {
 t.value3 = v
}
func (t *Struct) GetValue4() int {
 return t.value4
}
func (t *Struct) SetValue4(v int) error {
 err := validateFieldValue(v, "min=1,max=100")
 if err != nil {
  return err
 }
 t.value4 = v
 return nil
}
func (t *Struct) GetValue5() int {
 return t.value5
}
func (t *Struct) setValue5(v int) error {
 err := validateFieldValue(v, "min=1,max=100")
 if err != nil {
  return err
 }
 t.value5 = v
 return nil
}
```
